# .env 파일 내용
# Airflow 버전 (다운로드한 docker-compose.yaml 버전에 맞춰주세요)
AIRFLOW_VERSION=2.8.2

# Airflow 사용자 및 그룹 ID
AIRFLOW_UID=50000
AIRFLOW_GID=0

# PostgreSQL 설정
POSTGRES_USER=airflow
POSTGRES_PASSWORD=airflow
POSTGRES_DB=airflow

# Airflow 메타데이터 DB 연결 문자열
# 로컬 개발 환경에서는 postgresql://airflow:airflow@postgres/airflow 로 설정
# 운영 환경에서는 postgres://airflow:airflow@postgres/airflow 로 설정 (호스트명만 다름)
# docker-compose.yaml 내에서 서비스 이름 'postgres'로 접근
AIRFLOW__CORE__SQL_ALCHEMY_CONN=postgresql+psycopg2://airflow:airflow@postgres/airflow

# Airflow Fernet Key (반드시 직접 생성하여 입력)
# python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())" 명령어로 생성
AIRFLOW__CORE__FERNET_KEY=9A17RjC0c3Awvp3-tibkS1spXKFE1FcJpwn_lvOpkds=

# Airflow Executor (CeleryExecutor 사용)
AIRFLOW__CORE__EXECUTOR=CeleryExecutor

# Celery Broker (Redis)
AIRFLOW__CELERY__BROKER_URL=redis://redis:6379/0

# Celery Result Backend (PostgreSQL)
AIRFLOW__CELERY__RESULT_BACKEND=db+postgresql://airflow:airflow@postgres/airflow

# Redis 설정 (Celery Broker용)
REDIS_HOST=redis
REDIS_PORT=6379

# Flower 설정 (Celery 모니터링 UI)
FLOWER_PORT=5555

# Docker Compose 네트워크 이름 (선택 사항, 기본값 사용 가능)
# COMPOSE_PROJECT_NAME=mlops-airflow
